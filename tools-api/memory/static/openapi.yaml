openapi: 3.0.0
info:
  title: Memory Service API
  version: 1.0.0
paths:
  /api/memory/save:
    post:
      summary: Save memory
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SaveRequest'
      responses:
        '201':
          description: Created
  /api/memory/search:
    post:
      summary: Search memory
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SearchRequest'
      responses:
        '200':
          description: OK
components:
  schemas:
    SaveRequest:
      type: object
      properties:
        user_id:
          type: string
        text:
          type: string
      required: ["user_id", "text"]
    SearchRequest:
      type: object
      properties:
        user_id:
          type: string
        query_text:
          type: string
        top_k:
          type: integer